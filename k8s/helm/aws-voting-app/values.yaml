# Default values for aws-voting-app
# Declare variables to be passed into your templates.

replicaCount: 2

image:
  registry: ""  # Will be set by CI/CD (e.g., 123456789.dkr.ecr.us-east-1.amazonaws.com)
  tag: "latest"
  pullPolicy: IfNotPresent

# Service configuration
service:
  type: LoadBalancer
  port: 80

# Ingress configuration
ingress:
  enabled: false
  className: "nginx"
  annotations: {}
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: Prefix

# Resources
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi

# Autoscaling
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80

# Node affinity (optional)
nodeSelector: {}

tolerations: []

affinity: {}

# Database configuration
database:
  host: postgres
  port: 5432
  name: votes
  user: postgres
  password: postgres

# Redis configuration
redis:
  host: redis
  port: 6379

# Vote service specific
vote:
  replicaCount: 2
  repository: voting-app-vote
  port: 8080

# Result service specific
result:
  replicaCount: 2
  repository: voting-app-result
  port: 8081

# Worker service specific
worker:
  replicaCount: 1
  repository: voting-app-worker

# Seed data job specific
seedData:
  repository: voting-app-seed-data
  enabled: true
